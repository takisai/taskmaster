<!DOCTYPE html>
<html lang="ja">
    <head>
        <title>Help: Task Master</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body id="document">
        <h1>Task Masterについて</h1>
        <div class="h2">
            <details open><summary>1 概要</summary>
                <div>
                    <p><a href="index.html">Task Master</a>は、決められた時刻に音を出すことができるWEBツールです。</p>
                    <div class="h3">
                        <details open><summary>1.1 諸情報</summary>
                            <div>
                                <ul>
                                    <li>最新版: Version 1.0 (2019-xx-xx)</li>
                                    <li>製作者: takisai</li>
                                    <li>動作環境: Chrome・Firefoxなら問題なく動くはずです。<br>
                                        IE・Edgeは動かないと思います。スマホは未確認。</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </div>
            </details>
        </div>
        <div class="h2">
            <details open><summary>2 使い方</summary>
                <div>
                    <p>Task Masterは、基本的に上から2行目の入力欄にコマンドを入れてEnterキーを押すことにより動作します。</p>
                    <div class="h3">
                        <details id="task" open><summary>2.1 タスクの入力</summary>
                            <div>
                                <p>タスクは、次の項目を入力することで設定することができます。</p>
                                <ol>
                                    <li>ある時間経過したら/ある時刻になったら</li>
                                    <li>どういう音で知らせるか/どのくらい重要なのか</li>
                                    <li>表示する名前</li>
                                </ol>
                                <div class="h4">
                                    <details id="taskTime" open><summary>2.1.1 ある時間経過したら/ある時刻になったら</summary>
                                        <div>
                                            <p>「ある時間経過したら」という設定は、数字を並べて表します。例えば、3分なら<kbd>3</kbd>と入力します。また、4分33秒のように秒単位で指定したいときは、<kbd>4.33</kbd>と<kbd>&lt;分&gt;.&lt;秒&gt;</kbd>のように表します。ただし、<kbd>&lt;分&gt;</kbd>は2桁までの数値で、3桁以上の場合は「右側2桁が分、残りが時間」を表します。例えば、1時間5分なら<kbd>105</kbd>のようになります。1日単位の指定もすることができて、それは一番左に<kbd>&lt;日&gt;,</kbd>と書きます。例えば、<kbd>10,537.43</kbd>は10日と5時間37分43秒を表しています。</p>
                                            <p>「ある時刻になったら」という設定は、単位ごとに区切り文字<kbd>:</kbd>(コロン)を入れて表します。例えば、21時38分は<kbd>21:38</kbd>のようになります。7時38分46秒なら<kbd>7:38:46</kbd>のように表します。また、月日単位の指定もできます。例えば、3月7日の22時なら<kbd>3-7,22:0</kbd>のように書きます。年単位の表現は<kbd>2019-5-12,16:10:00</kbd>のように書きます。</p>
                                            <p>アラームで設定される時間は、書かれた時刻と等しくなる一番始めの時間になります。例えば、朝8時に<kbd>13:00</kbd>を指定すると、5時間後にタスクが設定されます。しかし、15時に<kbd>13:00</kbd>と指定すると、次の日の13時にタスクが設定されます。</p>
                                        </div>
                                    </details>
                                </div>
                                <div class="h4">
                                    <details id="taskMode" open><summary>2.1.2 どういう音で知らせるか/どのくらい重要なのか</summary>
                                        <div>
                                            <p>Task Masterは10種類の音を出すことができます。それぞれ0から9までの数字が割り当てられているので、それを指定すればOKです。音の確認は<kbd>sound 0</kbd>のように<kbd>sound</kbd>コマンドを使ってください。</p>
                                            <p>どれくらい重要なのかを指定すると、時間になったときの表示が変わります。</p>
                                            <ul>
                                                <li>低い重要度のとき(<kbd>.</kbd>と表します)<br>
                                                    しばらくすると勝手にタスクのリストから消えます。</li>
                                                <li>中くらいの重要度のとき(<kbd>!</kbd>と表します)<br>
                                                    時間になるとそのタスクが黄色で強調されます。勝手に消されることはありません。</li>
                                                <li>重要度が高いとき(<kbd>!!</kbd>と表します)<br>
                                                    時間になると赤色で強調され、Task Masterの画面全体も赤っぽくなります。</li>
                                                <li>重要度がさらに高いとき(<kbd>!!!</kbd>と表します)<br>
                                                    重要度が高いときの表示に加えて、ブラウザのアラートが機能します。<br>追記: この動作を行うと他の処理が止まってしまうため、<kbd>!!!</kbd>の指定は推薦しません。</li>
                                            </ul>
                                            <p>これらの設定は、単純につなげるだけで表現することができます。例えば、1番の音を出してほしい&amp;重要度を中に指定するときは、<kbd>1!</kbd>のように指定します。また、これらの設定は省略することができます。省略した設定は、既定値が適用されます。</p>
                                        </div>
                                    </details>
                                </div>
                                <div class="h4">
                                    <details id="taskName" open><summary>2.1.3 表示する名前</summary>
                                        <div>
                                            <p>タスク名は、<kbd>;</kbd>(セミコロン)以外の文字が使えます。省略すると、<a href="#taskTime">2.1.1</a>で指定した文字列がタスク名になります。</p>
                                        </div>
                                    </details>
                                </div>
                                <div class="h4">
                                    <details open><summary>2.1.4 ここまでのまとめ</summary>
                                        <div>
                                            <p><a href="#taskTime">2.1.1</a>・<a href="#taskMode">2.1.2</a>・<a href="#taskName">2.1.3</a>を<kbd>/</kbd>でつなぐと、タスクの入力をすることができます。例えば、12時に5番の音を出す重要度低のタスク「昼休み」を設定するときは、<kbd>12:00/5./昼休み</kbd>と入力します。タスク名は省略することができて、そのときは<kbd>12:00/5.</kbd>のように<kbd>/</kbd>も省略します。また、音や重要度の設定も省略するときは、<kbd>12:00</kbd>のように最初の<kbd>/</kbd>も省略することができます。</p>
                                        </div>
                                    </details>
                                </div>
                                <div class="h4">
                                    <details open><summary>2.1.5 繰り返し動くタスク</summary>
                                        <div>
                                            <p>Task Masterは、繰り返し動くタスクを設定することもできます。例えば、朝6時30分に動く「GOOD MORNING!」というタスクは<kbd>6:30//GOOD MORNING!</kbd>ですが、これを<kbd>6:30+5+//GOOD MORNING!</kbd>と書き換えることで、さらに5分おきにスヌーズをしてくれます。</p>
                                            <p>どのように書いて、どういう動作をするのか説明します。書き方は<a href="#taskTime">2.1.1</a>で作る文字列を<kbd>10+2+3</kbd>のように<kbd>+</kbd>でつなげるだけです。<kbd>10+2+3</kbd>という文字列は、最初に10分のタイマーを設定します。10分経って音が鳴るときに、新たに<kbd>2+3</kbd>というタスクの設定がされます。同様に2分が経過すると、音が鳴ると同時に<kbd>3</kbd>というタスクが設定されます。</p>
                                            <p>また、<kbd>+</kbd>でつなげる文字列を<kbd>+</kbd>で終わらせると、最後の指定がずっと繰り返されるようになります。例えば<kbd>5+</kbd>というタスクなら、5分おきにアラームが繰り返されるようになります。</p>
                                            <p>ただし、これで新たに追加されるタスクの音や重要度は、最初に指定したものと同じになります。最初の例(<kbd>6:30+5+//GOOD MORNING!</kbd>)なら、5分おきに「GOOD MORNING!」というタスクが繰り返し設定されるということです。</p>
                                        </div>
                                    </details>
                                </div>
                                <div class="h4">
                                    <details open><summary>2.1.6 タスクで指定した時間に別のコマンドを実行したい</summary>
                                        <div>
                                            <p>タスクで指定した時間に、別のコマンドを実行することができます。ただし、実行できるコマンドは<kbd>;</kbd>や<kbd>/</kbd>が入っていないこと、最後の文字が<kbd>.</kbd>や<kbd>!</kbd>でないことが必要です。例えば、5分後に<kbd>hoge</kbd>というコマンドを実行したい場合は<kbd>5/*hoge</kbd>のように<kbd>&lt;音番号&gt;</kbd>の部分を<kbd>*&lt;実行したいコマンド&gt;</kbd>に置き換えます。もちろん、重要度やタスク名を設定することもできます。</p>
                                            <p>条件に合わないコマンドを実行するためには、<a href="#macro">2.7</a>で説明するマクロを利用する必要があります。</p>
                                        </div>
                                    </details>
                                </div>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.2 タスクの入力(別の方法)</summary>
                            <div>
                                <p><a href="#task">2.1</a>ではタスクの入力方法を紹介しましたが、menu&gt;タスク設定からでも設定することができます。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.3 タスクの削除</summary>
                            <div>
                                <p>タスクの削除は2つ方法があります。1つ目はタスクリストの左側にある<input type="button" value="remove">ボタンを押す方法です。</p>
                                <p>もうひとつは、<kbd>remove</kbd>コマンドを使う方法です。タスクリストの一番左の番号を<kbd>remove</kbd>の後に書くことで、そのコマンドが消去されます。また、番号は複数書くことができます。例えば、<kbd>remove 3 4 5</kbd>なら3から5番目のタスクを消去します。また、一度にすべてのタスクを消去するには<kbd>remove *</kbd>を指定します。</p>
                                <p>さらに、番号なしの<kbd>remove</kbd>コマンドを使うと、指定した時間が来て取り消し線が引かれたタスクを全て消去することができます。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.4 タスクの既定値の設定</summary>
                            <div>
                                <p><a href="#taskMode">2.1.2</a>で書いた既定値を変更することができます。書式は<kbd>default &lt;音番号&gt;&lt;重要度&gt;</kbd>です。<kbd>&lt;音番号&gt;&lt;重要度&gt;</kbd>のどちらも、<a href="#taskMode">2.1.2</a>と同じ方法で記述します。また、どちらかを省略することもできます。例えば、<kbd>default !!</kbd>は規定の音はそのまま、重要度だけ高に変更するコマンドです。</p>
                                <p>また、現在設定されている既定値は<kbd>default</kbd>で確認することができます。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.5 タスクの表示方法の切り替え</summary>
                            <div>
                                <p>初期設定だと、タスクは名前の後ろに(18:30:00)のような文字列が表示されています。この例は「18時30分にこのタスクは音を鳴らす」という意味です。これを「あとどのくらいで音が鳴るのか」に変更することができます。コマンド<kbd>switch</kbd>を使うと、「いつ鳴らすか」と「あとどれだけで鳴るのか」の表示を切り替えることができます。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.6 音を止める/音量操作</summary>
                            <div>
                                <p>Task Masterの音を止める方法は2つあります。1つ目は<input type="button" value="stop">ボタンを押す方法です。このボタンは、音が鳴っているタスクにしか表示されません。</p>
                                <p>もうひとつは<kbd>stop</kbd>コマンドによる方法です。<kbd>remove</kbd>コマンドと同様に、タスクリスト一番左の番号を使って、そのタスクの音を止めることができます。また、<kbd>stop *</kbd>とすることで、すべての音を止めることができます。</p>
                                <p>音量はvolumeバーで操作するか、<kbd>volume 50</kbd>のようにコマンドで指定します。音量を示す数値は0から100で、数値が大きいほど音が大きくなります。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details id="macro" open><summary>2.7 マクロ</summary>
                            <div>
                                <p>マクロを使うと、例えば<kbd>ramen</kbd>と入力すれば、自動で<kbd>3//ramen</kbd>というコマンドに置き換えることができます。</p>
                                <p>マクロの指定方法は<kbd>&lt;元文字列&gt;-&gt;&lt;置き換え後文字列&gt;</kbd>です。ただし、<kbd>&lt;元文字列&gt;</kbd>に<kbd>-&gt;</kbd>を含めることはできません。<kbd>&lt;元文字列&gt;</kbd>と<kbd>&lt;置き換え後文字列&gt;</kbd>はJavaScriptの<code>replace</code>メソッドを利用しているため、複雑な指定をすることができます。例えば、<kbd>dup (.*)$-&gt;$1;button $1</kbd>というマクロを指定しておくと、<kbd>dup 50</kbd>という文字列は<kbd>50;button 50</kbd>というコマンドに置き換えられます。詳しくは、JavaScriptの<code>replace</code>メソッドを参照してください。(参考: <a href="https://www.google.co.jp/search?q=JavaScript+replace" target="_blank">JavaScript replace - Google 検索</a>)</p>
                                <p>マクロによる置き換えは、登録順にすべてのマクロで行われます。例えば、<kbd>a-&gt;b</kbd>と<kbd>b-&gt;c</kbd>というマクロをこの順番に登録した場合、<kbd>a</kbd>というコマンドは<kbd>c</kbd>に置き換えられます。マクロでの置換が行われないようにするには、先頭に<kbd>#</kbd>をつけてコマンドを入力します。</p>
                                <p>マクロの一覧は<kbd>show-macro</kbd>コマンドで見ることができます。マクロの消去は、マクロリストの左にある<input type="button" value="remove">ボタンを押すか、<kbd>remove-macro</kbd>コマンドにより行います。<kbd>remove</kbd>コマンドと同様に、<kbd>remove-macro</kbd>コマンドはマクロの番号を指定することで消去できます。マクロ一覧を隠すときは<kbd>hide-macro</kbd>を実行します。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.8 ボタンの作成</summary>
                            <div>
                                <p>今まで書いてきたコマンドは、ボタンを押すことで実行することもできます。<kbd>button</kbd>コマンドの後ろに入力したいコマンドを入れて実行すると、volume操作バーとタスクリストの間にボタンが現れます。このボタンを押すことで、登録された内容が実行されます。例えば、<kbd>button switch</kbd>というコマンドで作成したボタンは、押すたびに<kbd>switch</kbd>コマンドを実行します。</p>
                                <p>ただし、コマンドに<kbd>;</kbd>を含めることはできません。</p>
                            </div>
                        </details>
                    </div>
                    <div class="h3">
                        <details open><summary>2.9 一度に複数のコマンドを実行する</summary>
                            <div>
                                <p>マクロを除くこれまでのコマンドは、<kbd>;</kbd>(セミコロン)でつなぐことで一度にすべて実行することができます。</p>
                            </div>
                        </details>
                    </div>
                </div>
            </details>
        </div>
    </body>
</html>
